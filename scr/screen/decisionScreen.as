package screen {		//Flash importss	import flash.display.MovieClip;	import flash.events.KeyboardEvent;	import flash.events.Event;	import flash.display.Stage;		//Tweening imports	import com.greensock.TweenLite;	import com.greensock.easing.*;		public class decisionScreen extends MovieClip {				//Stage refference		private var _stage:Stage;				//Button booleans		private var _jPressed:Boolean;		private var _kPressed:Boolean;				public function decisionScreen() {			//Initialized game			init();		}				//When created		private function init():void{			//Vars			_stage = Main.getStage();			_jPressed = false;			_kPressed = false;						//Set alpha for fade in			this.alpha = 0;						//Add to screen			Main.getInstance().addChild(this);						//Tween in			TweenLite.to(this, 0.5, {alpha: 1});						//Event handlers			_stage.addEventListener(KeyboardEvent.KEY_UP, keyUpHandler);			addEventListener(Event.ENTER_FRAME, screenLoop);			addEventListener(Event.REMOVED_FROM_STAGE, onRemoved);		}				//Screen loop		private function screenLoop(event:Event):void{			//Check for key pressed. If true, fades out the screen, removes it, and dispatches appropriate event			if(_jPressed == true){				TweenLite.to(this, 0.5, {alpha: 0});				if( this.alpha <= 0){					Main.getInstance().removeChild(this);					_stage.dispatchEvent(new Event("continuePressed", true));				}			}			else if(_kPressed == true){				TweenLite.to(this, 0.5, {alpha: 0});				if( this.alpha <= 0){					Main.getInstance().removeChild(this);					_stage.dispatchEvent(new Event("escapePressed", true));				}			}						//Controls animation			if( player.currentFrame >= 0 && player.currentFrame <= 21){				if( player.currentFrame == 20){					player.gotoAndPlay(1);				}			}		}				//When removed		private function onRemoved(event:Event):void{			//Remove event handlers			_stage.removeEventListener(KeyboardEvent.KEY_UP, keyUpHandler);			removeEventListener(Event.ENTER_FRAME, screenLoop);			removeEventListener(Event.REMOVED_FROM_STAGE, onRemoved);		}				//Checks for key up		private function keyUpHandler(event:KeyboardEvent):void{			//J key			if ( event.keyCode == 74){				_jPressed = true;			}			//K key			else if ( event.keyCode == 75){				_kPressed = true;			}		}	}	}